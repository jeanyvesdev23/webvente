{% extends 'base.html.twig' %}

{% block title "Votre panier" %}

{% block body %}
	<div class="container rm mt">

		<div class="votre-panier rm ba-ba">
			<div class="titre p-3 fav">
				<h5>Votre panier</h5>
			</div>
			{% if carts|length > 0 %}

				<div class="contenu p-4">
					<table class="table rm table-striped text-center fs-6">
						<thead>
							<tr>
								<th></th>
								<th class="rm">Produit</th>
								<th class="rm">Prix</th>
								<th>Quantiter</th>
								<th>Total</th>
								<th></th>
							</tr>
						</thead>
						<tbody>
							{% for cart in carts %}

								<tr class=" product-cart">
									<td>
										<div class="taille-image">
											<img src="./asset/upload/product/{{cart.produit.imagePro}}" height="60px" alt="" width="60px">
										</div>
									</td>
									<td class="rm">
										<div class="nom-pro">
											<span class='fw-bold product-title'>
												{{cart.produit.nomPro}}
											</span>
											<br>
											<small>
												{{cart.produit.categorie.nomCate}}
											</small>
										</div>
									</td>
									<td class="rm">
										<div class="tprix-pro product-price" value="{{cart.produit.prixPro}}">
											{{cart.produit.prixPro}}
											Ar
										</div>
									</td>
									<td>
										<div class="quantite-pro">
											<a href="{{path("deletefrom_cart",{id:cart.produit.id})}}">
												<span class="text-danger">
													<i data-product-id="{{cart.produit.id}}" class="bi-caret-left-fill"></i>
												</span>
											</a>
											{{cart.quantite}}
											<a href="{{path("add_cart",{id:cart.produit.id})}}">
												<span class="text-danger">
													<i data-product-id="{{cart.produit.id}}" class="addToCart bi-caret-right-fill"></i>
												</span>
											</a>
										</div>
									</td>

									<td>
										<div class="total-pro">
											{{cart.quantite * cart.produit.prixPro}}
											Ar
										</div>
									</td>
									<td>
										<a href="{{path("delete_cart",{id:cart.produit.id})}}">
											<span data-product-id="{{cart.produit.id}}" class="delete badge rounded-pill bg-danger">delete</span>
										</a>
									</td>

								</tr>
							{% endfor %}
						</tbody>
					</table>

					<div class="t-footer rm d-flex justify-content-between">
						<a href="{{path("app_produit")}}">
							<button class="btn rm btn-sm btn-primary">
								<span>
									<i class="bi-chevron-left"></i>
								</span>CONTINUER MES ACHATS</button>
						</a>
						<div class="total">
							<span class="pe_5 rm fw-bold">TOTAL :
								{{data.total}}
								Ar</span>
							<a href="{{path("app_checkout")}}">
								<button class="btn rm btn-sm btn-primary">PROCEED TO CHECKOUT
									<span>
										<i class="bi-chevron-right"></i>
									</span>
								</button>
							</a>

						</div>
					</div>
				</div>
			{% else %}
				<div class="panier-vide">
					<p>OUPS VOTRE PANIER EST VIDE IL FAUT AJOUTER QUELQUE CHOSE</p>
				</div>
			{% endif %}
		</div>
	</div>
{% endblock %}
